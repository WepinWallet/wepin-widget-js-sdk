(()=>{var e={238:function(e,t,i){var n;!function(o,r){"use strict";var s="function",a="undefined",u="object",p="string",c="model",l="name",d="type",w="vendor",b="version",h="architecture",f="console",g="mobile",v="tablet",y="smarttv",m="wearable",C="embedded",x="Amazon",L="Apple",A="ASUS",k="BlackBerry",_="Browser",W="Chrome",E="Firefox",S="Google",O="Huawei",N="LG",I="Microsoft",T="Motorola",z="Opera",P="Samsung",j="Sharp",q="Sony",M="Xiaomi",R="Zebra",K="Facebook",V=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},H=function(e,t){return typeof e===p&&-1!==B(t).indexOf(B(e))},B=function(e){return e.toLowerCase()},U=function(e,t){if(typeof e===p)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},D=function(e,t){for(var i,n,o,a,p,c,l=0;l<t.length&&!p;){var d=t[l],w=t[l+1];for(i=n=0;i<d.length&&!p;)if(p=d[i++].exec(e))for(o=0;o<w.length;o++)c=p[++n],typeof(a=w[o])===u&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):r:this[a[0]]=c?a[1].call(this,c,a[2]):r:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):r):this[a]=c||r;l+=2}},G=function(e,t){for(var i in t)if(typeof t[i]===u&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(H(t[i][n],e))return"?"===i?r:i}else if(H(t[i],e))return"?"===i?r:i;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},F={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,b],[/opios[\/ ]+([\w\.]+)/i],[b,[l,z+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[l,z]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[l,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[l,"UC"+_]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[b,[l,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[l,"IE"]],[/yabrowser\/([\w\.]+)/i],[b,[l,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure "+_],b],[/\bfocus\/([\w\.]+)/i],[b,[l,E+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[l,z+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[l,z+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[l,"MIUI "+_]],[/fxios\/([-\w\.]+)/i],[b,[l,E]],[/\bqihu|(qi?ho?o?|360)browser/i],[[l,"360 "+_]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1 "+_],b],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[l,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,K],b],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[l,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[l,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[l,W+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,W+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[l,"Android "+_]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[l,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[b,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[l,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[l,E+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[l,b],[/(cobalt)\/([\w\.]+)/i],[l,[b,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,B]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,"",B]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,B]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[w,P],[d,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[w,P],[d,g]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[w,L],[d,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[w,L],[d,v]],[/(macintosh);/i],[c,[w,L]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[w,O],[d,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[w,O],[d,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[w,M],[d,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[w,M],[d,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[w,"OPPO"],[d,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[w,"Vivo"],[d,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[w,"Realme"],[d,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[w,T],[d,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[w,T],[d,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[w,N],[d,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[w,N],[d,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[w,"Lenovo"],[d,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[w,"Nokia"],[d,g]],[/(pixel c)\b/i],[c,[w,S],[d,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[w,S],[d,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[w,q],[d,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[w,q],[d,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[w,"OnePlus"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[w,x],[d,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[w,x],[d,g]],[/(playbook);[-\w\),; ]+(rim)/i],[c,w,[d,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[w,k],[d,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[w,A],[d,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[w,A],[d,g]],[/(nexus 9)/i],[c,[w,"HTC"],[d,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[w,[c,/_/g," "],[d,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[w,"Acer"],[d,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[w,"Meizu"],[d,g]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[w,j],[d,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[w,c,[d,g]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[w,c,[d,v]],[/(surface duo)/i],[c,[w,I],[d,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[w,"Fairphone"],[d,g]],[/(u304aa)/i],[c,[w,"AT&T"],[d,g]],[/\bsie-(\w*)/i],[c,[w,"Siemens"],[d,g]],[/\b(rct\w+) b/i],[c,[w,"RCA"],[d,v]],[/\b(venue[\d ]{2,7}) b/i],[c,[w,"Dell"],[d,v]],[/\b(q(?:mv|ta)\w+) b/i],[c,[w,"Verizon"],[d,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[w,"Barnes & Noble"],[d,v]],[/\b(tm\d{3}\w+) b/i],[c,[w,"NuVision"],[d,v]],[/\b(k88) b/i],[c,[w,"ZTE"],[d,v]],[/\b(nx\d{3}j) b/i],[c,[w,"ZTE"],[d,g]],[/\b(gen\d{3}) b.+49h/i],[c,[w,"Swiss"],[d,g]],[/\b(zur\d{3}) b/i],[c,[w,"Swiss"],[d,v]],[/\b((zeki)?tb.*\b) b/i],[c,[w,"Zeki"],[d,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[w,"Dragon Touch"],c,[d,v]],[/\b(ns-?\w{0,9}) b/i],[c,[w,"Insignia"],[d,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[w,"NextBook"],[d,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[w,"Voice"],c,[d,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[w,"LvTel"],c,[d,g]],[/\b(ph-1) /i],[c,[w,"Essential"],[d,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[w,"Envizen"],[d,v]],[/\b(trio[-\w\. ]+) b/i],[c,[w,"MachSpeed"],[d,v]],[/\btu_(1491) b/i],[c,[w,"Rotor"],[d,v]],[/(shield[\w ]+) b/i],[c,[w,"Nvidia"],[d,v]],[/(sprint) (\w+)/i],[w,c,[d,g]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[w,I],[d,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[w,R],[d,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[w,R],[d,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[w,c,[d,f]],[/droid.+; (shield) bui/i],[c,[w,"Nvidia"],[d,f]],[/(playstation [345portablevi]+)/i],[c,[w,q],[d,f]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[w,I],[d,f]],[/smart-tv.+(samsung)/i],[w,[d,y]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[w,P],[d,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,N],[d,y]],[/(apple) ?tv/i],[w,[c,L+" TV"],[d,y]],[/crkey/i],[[c,W+"cast"],[w,S],[d,y]],[/droid.+aft(\w)( bui|\))/i],[c,[w,x],[d,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[w,j],[d,y]],[/(bravia[\w ]+)( bui|\))/i],[c,[w,q],[d,y]],[/(mitv-\w{5}) bui/i],[c,[w,M],[d,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[w,U],[c,U],[d,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,y]],[/((pebble))app/i],[w,c,[d,m]],[/droid.+; (glass) \d/i],[c,[w,S],[d,m]],[/droid.+; (wt63?0{2,3})\)/i],[c,[w,R],[d,m]],[/(quest( 2)?)/i],[c,[w,K],[d,m]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[d,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[d,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[d,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,g]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[l,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[l,[b,G,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[l,"Windows"],[b,G,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,"Mac OS"],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[l,b],[/\(bb(10);/i],[b,[l,k]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[l,E+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[l,"webOS"]],[/crkey\/([\d\.]+)/i],[b,[l,W+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[l,"Chromium OS"],b],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,b],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[l,b]]},Y=function(e,t){if(typeof e===u&&(t=e,e=r),!(this instanceof Y))return new Y(e,t).getResult();var i=e||(typeof o!==a&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),n=t?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(F,t):F;return this.getBrowser=function(){var e,t={};return t[l]=r,t[b]=r,D.call(t,i,n.browser),t.major=typeof(e=t.version)===p?e.replace(/[^\d\.]/g,"").split(".")[0]:r,t},this.getCPU=function(){var e={};return e[h]=r,D.call(e,i,n.cpu),e},this.getDevice=function(){var e={};return e[w]=r,e[c]=r,e[d]=r,D.call(e,i,n.device),e},this.getEngine=function(){var e={};return e[l]=r,e[b]=r,D.call(e,i,n.engine),e},this.getOS=function(){var e={};return e[l]=r,e[b]=r,D.call(e,i,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===p&&e.length>350?U(e,350):e,this},this.setUA(i),this};Y.VERSION="1.0.33",Y.BROWSER=V([l,b,"major"]),Y.CPU=V([h]),Y.DEVICE=V([c,w,d,f,g,y,v,m,C]),Y.ENGINE=Y.OS=V([l,b]),typeof t!==a?(e.exports&&(t=e.exports=Y),t.UAParser=Y):i.amdO?(n=function(){return Y}.call(t,i,t,e))===r||(e.exports=n):typeof o!==a&&(o.UAParser=Y);var X=typeof o!==a&&(o.jQuery||o.Zepto);if(X&&!X.ua){var $=new Y;X.ua=$.getResult(),X.ua.get=function(){return $.getUA()},X.ua.set=function(e){$.setUA(e);var t=$.getResult();for(var i in t)X.ua[i]=t[i]}}}("object"==typeof window?window:this)}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,i),r.exports}i.amdO={},(()=>{"use strict";var e=function(){function e(){}return e.closeOverlay=function(e,t){if(t){var i=document.querySelector("#".concat(e));i&&i.parentNode&&i.parentNode.removeChild(i)}},e.openOverlay=function(t,i){if(i){var n=document.createElement("div");n.id=t,n.classList.add(e.CONST.overlayClassName),n.style.zIndex="2147483647",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.textAlign="center",n.style.position="fixed",n.style.left="0px",n.style.right="0px",n.style.top="0px",n.style.bottom="0px",n.style.background="rgba(0,0,0,0.6)",n.style.color="white",n.style.border="2px solid #f1f1f1";for(var o=document.getElementsByClassName(e.CONST.overlayClassName),r=0;r<o.length;r++){var s=o.item(r);s&&s.remove()}document.body.appendChild(n)}},e.CONST={overlayClassName:"wepin-widget__overlay"},e}(),t=i(238);const n=function(){function e(){}return e.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.isWebview=function(){return(new t).setUA(navigator.userAgent).getBrowser().name.includes("WebView")},e.messages=function(t){return{hasValidOrigin:function(i){return i.origin===e.getUrls(t).wepinWebview}}},e.getUrls=function(e){switch(e){case"production":return{wepinSdkApi:"https://sdk.wepin.io",wepinWebview:"https://widget.wepin.io"};case"test":return{wepinSdkApi:"https://stage-sdk.wepin.io",wepinWebview:"https://stage-widget.wepin.io"};case"development":return{wepinSdkApi:"https://dev-sdk.wepin.io",wepinWebview:"https://dev-widget.wepin.io"};default:throw new Error("Utils.getUrls: invalid mode")}},e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e}();var o=console.warn.bind(window.console,"[TEST] "),r=console.warn.bind(window.console,"[WARN] "),s=console.error.bind(window.console,"[ERROR] "),a=console.warn.bind(window.console,"[TODO] "),u=console.assert.bind(window.console);window.webkit;const p={debug:function(){},test:o,warn:r,error:s,todo:a,assert:u};var c,l=function(){function t(e,t,i,o){this.id="id-".concat(n.uuidv4()),this.url=e,this.useOverlay=void 0===t||t,this.request=i,this.wepin=o,this.openOverlay()}return t.prototype.getWepin=function(){return this.wepin},t.prototype.setCloseInterval=function(){var e=this;this.closeInterval=window.setInterval((function(){e.widget&&!e.closed||e.close()}),100)},t.prototype.clearCloseInterval=function(){window.clearInterval(this.closeInterval)},t.prototype.onResponseEventListener=function(e,t,i){if(i.body.state){p.debug("GET_RESPONSE");var o=i.body;switch(this.widgetWebviewEventListener&&(this.removeWidgetWebviewEventListener(),"init_widget"===this.request.command&&n.isMobile()&&(this.widgetWebviewEventListener=this.createOnlyResponseEventListener(e),window.addEventListener("message",this.widgetWebviewEventListener))),"ERROR"===o.state&&t(o.data),this.request.command){case"init_widget":case"sign_message":case"send_transaction":e(o.data)}}},t.prototype.onRequestEventListener=function(e,t,i,n){var o=t.body;switch(o.command){case"ready_to_widget":if(p.debug("READY_TO_WIDGET"),n){var r={response_to:"wepin_widget",response_from:"web",id:t.header.id};p.debug("READY_TO_WIDGET this",this);var s=void 0;try{s={command:"ready_to_widget",state:"SUCCESS",data:this.wepin.initializedData}}catch(e){s={command:"ready_to_widget",state:"ERROR",data:e.message}}var a={header:r,body:s};p.debug("READY_TO_WIDGET response",a),i.postMessage(a,this.url)}break;case"close_wepin_widget":p.debug("CLOSE_WIDGET"),this.widgetWebviewEventListener&&this.removeWidgetWebviewEventListener(),this.close();break;case"expand_wepin_widget":p.debug("EXPAND_WIDGET"),this.expand();break;case"shrink_wepin_widget":p.debug("SHRINK_WIDGET"),this.shrink();break;case"set_accounts":p.debug("SET_ACCOUNTS"),p.debug("response",o),this.wepin.setAccountInfo=o.parameter}},t.prototype.getMessageType=function(e){return"wepin_widget"===e.response_from&&"web"===e.response_to?"response":"web"===e.request_to&&"wepin_widget"===e.request_from?"request":void 0},t.prototype.createWidgetWebviewEventListener=function(e,t){var i=this;return function(o){if(n.messages(i.wepin.modeByAppKey).hasValidOrigin(o)){var r=o.data;p.debug("createWidgetWebviewEventListener",o),p.debug("message data",o.data);try{var s=i.getMessageType(r.header);"response"===s?i.onResponseEventListener(e,t,r):"request"===s&&i.onRequestEventListener(e,r,o.source,!0)}catch(e){p.error("createWidgetWebviewEventListener got error!",e),t(e)}}}},t.prototype.createOnlyResponseEventListener=function(e){var t=this;return function(i){if(n.messages(t.wepin.modeByAppKey).hasValidOrigin(i)){p.debug("widget createCloseWidgetWebviewEventListener",i);var o=i.data;"request"===t.getMessageType(o.header)&&t.onRequestEventListener(e,o,i.source,!1)}}},t.prototype.removeWidgetWebviewEventListener=function(){this.widgetWebviewEventListener&&(window.removeEventListener("message",this.widgetWebviewEventListener),delete this.widgetWebviewEventListener)},t.prototype.focus=function(){p.debug("widget focus"),!this.widget&&this.closed||this.widget.focus()},t.prototype.close=function(){p.debug("widget close"),this.closeWidget(),this.closeOverlay(),this.clearCloseInterval(),this.removeWidgetWebviewEventListener()},t.prototype.closeOverlay=function(){e.closeOverlay(this.id,this.useOverlay)},t.prototype.openOverlay=function(){e.openOverlay(this.id,this.useOverlay)},t}(),d=(c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},c(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),w=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{u(n.next(e))}catch(e){r(e)}}function a(e){try{u(n.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},b=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},h=function(e){function t(t,i,n,o,r,s){var a=e.call(this,t,i,n,o)||this;return a.target=r,a.features=s,a}return d(t,e),t.openNew=function(e,i,n){return w(this,void 0,void 0,(function(){var o,r,s;return b(this,(function(a){switch(a.label){case 0:return o=this.getPopupFeatures(),[4,(r=new t(e,!0,i,n,"Wepin_Widget",o)).open()];case 1:return s=a.sent(),p.debug("widget openNew data",s),[2,{widget:r,data:s}]}}))}))},t.prototype.open=function(){return w(this,void 0,void 0,(function(){var e=this;return b(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,i){e.widgetWebviewEventListener=e.createWidgetWebviewEventListener(t,i),window.addEventListener("message",e.widgetWebviewEventListener);try{e.widget=window.open(e.url,e.target,e.features),e.setCloseInterval()}catch(e){console.debug("popup open failed",e)}})).then((function(e){return p.debug("widget open data",e),e}))];case 1:return[2,t.sent()]}}))}))},t.prototype.expand=function(){},t.prototype.shrink=function(){},t.prototype.closeWidget=function(){p.debug("widget closeWidget"),this.widget&&!this.closed&&this.widget.close()},Object.defineProperty(t.prototype,"closed",{get:function(){return!this.widget||this.widget.closed},enumerable:!1,configurable:!0}),t.getPopupFeatures=function(){var e=window.screenLeft?window.screenLeft:window.screenX?window.screenX:0,t=window.screenTop?window.screenTop:window.screenY?window.screenY:0,i=screen.width/2-187.5+e,n=screen.height/2-302+t;return"width=".concat(375,", height=").concat(604,", left=").concat(i,", top=").concat(n)+"scrollbars=yes, resizable=1, menubar=no, toolbar=no"},t}(l);const f=function(e){var t=e.data,i=e.status,n=e.headers,o=e.request;this.data=t,this.status=i,this.headers=n,this.request=o};const g=function(){function e(e){this.baseUrl=e}return e.prototype.send=function(e){return t=this,i=void 0,o=function(){var t,i,n,o,r,s,a,u,p,c;return function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(l){switch(l.label){case 0:return t=e.url,i=e.urlParams,n=e.method,o=e.data,r=e.headers,s=this.baseUrl+t,a=this.getUrlWithParams(s,i),[4,fetch(a,{method:n,headers:Object.assign(r||{},{"Content-Type":"application/json"}),body:"string"!=typeof o?JSON.stringify(o):o,credentials:e.withCredentials?"include":"same-origin"})];case 1:return[4,(u=l.sent()).json()];case 2:return p=l.sent(),c=this.convertHeadersToPlainObject(u.headers),[2,new f({data:p,status:u.status,headers:c,request:e})]}}))},new((n=void 0)||(n=Promise))((function(e,r){function s(e){try{u(o.next(e))}catch(e){r(e)}}function a(e){try{u(o.throw(e))}catch(e){r(e)}}function u(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(s,a)}u((o=o.apply(t,i||[])).next())}));var t,i,n,o},e.prototype.getUrlWithParams=function(e,t){if(!t)return e;var i=new URL(e);return Object.entries(t).forEach((function(e){var t=e[0],n=e[1];i.searchParams.append(t,n)})),i.toString()},e.prototype.convertHeadersToPlainObject=function(e){for(var t={},i=0,n=Object.keys(e);i<n.length;i++){var o=n[i];t[o]=e.get(o)}return t},e}(),v=function(e){var t=e.data,i=e.headers,n=e.url,o=e.urlParams,r=e.withCredentials,s=void 0!==r&&r,a=e.method;this.data=t,this.headers=i,this.url=n,this.urlParams=o,this.withCredentials=s,this.method=a};var y=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),m=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{u(n.next(e))}catch(e){r(e)}}function a(e){try{u(n.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},C=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};const x=function(e){function t(t){return e.call(this,t)||this}return y(t,e),t.prototype.getIpClient=function(){return m(this,void 0,void 0,(function(){var e,t;return C(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch("https://api.ipify.org?format=json")];case 1:return[4,i.sent().json()];case 2:return e=i.sent(),p.debug(e),[2,e.ip];case 3:return t=i.sent(),console.error(t),[3,4];case 4:return[2]}}))}))},t.prototype.initApp=function(e){return m(this,void 0,void 0,(function(){var t,i;return C(this,(function(n){switch(n.label){case 0:return t=new v({url:"/init",urlParams:{platform:1},method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-API-KEY":e},withCredentials:!0}),[4,this.send(t)];case 1:return i=n.sent(),p.debug("initApp",i),[2,i]}}))}))},t}(g);var L=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const A=function(e){function t(t){var i=e.call(this,n.getUrls(t).wepinSdkApi)||this;return i.app=new x(i.baseUrl),i}return L(t,e),t}(g);var k=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{u(n.next(e))}catch(e){r(e)}}function a(e){try{u(n.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},W=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},E=function(e){function t(t,i,o,r){var s=e.call(this,t,i,o,r)||this;return s.iframeId="id-".concat(n.uuidv4()),s}return k(t,e),t.openNew=function(e,i,n){return _(this,void 0,void 0,(function(){var o,r;return W(this,(function(s){switch(s.label){case 0:return[4,(o=new t(e,!0,i,n)).open()];case 1:return r=s.sent(),p.debug("widget openNew data",r),[2,{widget:o,data:r}]}}))}))},t.prototype.open=function(){return _(this,void 0,void 0,(function(){var e=this;return W(this,(function(i){switch(i.label){case 0:return[4,new Promise((function(i,n){e.widgetWebviewEventListener=e.createWidgetWebviewEventListener(i,n),window.addEventListener("message",e.widgetWebviewEventListener);try{var o=document.createElement("iframe");o.id=e.iframeId,o.classList.add(t.CONST.widgetFrameClassName),o.setAttribute("frameborder","0"),o.setAttribute("marginwidth","0"),o.setAttribute("marginheight","0"),o.style.borderRadius="12px 12px 0px 0px",o.style.width="100%",o.style.height="604px",o.style.maxHeight="100%",o.style.position="fixed",o.style.bottom="0",o.style.zIndex="408888000000",o.title="wepin sdk webview",o.src=e.url,o.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",o.allowFullscreen=!0;var r=document.querySelector("body");e.scrollPosition=window.pageYOffset,r.style.overflow="hidden",r.style.position="fixed",r.style.top="-".concat(e.scrollPosition,"px"),r.style.width="100%",document.body.appendChild(o),e.widget=o}catch(e){console.debug("popup open failed",e)}})).then((function(t){return p.debug("widget open data",t),e.setCloseInterval(),t}))];case 1:return[2,i.sent()]}}))}))},t.prototype.expand=function(){this.widget&&(this.widget.style.height="100%",this.widget.style.borderRadius="0px")},t.prototype.shrink=function(){this.widget&&(this.widget.style.height="604px",this.widget.style.borderRadius="12px 12px 0px 0px")},t.prototype.closeWidget=function(){if(p.debug("widget closeWidget",this.widget),this.widget){var e=document.querySelector("body");e.style.removeProperty("overflow"),e.style.removeProperty("position"),e.style.removeProperty("top"),e.style.removeProperty("width"),window.scrollTo(0,this.scrollPosition),document.body.removeChild(this.widget),this.widget=void 0}},Object.defineProperty(t.prototype,"closed",{get:function(){return!this.widget},enumerable:!1,configurable:!0}),t.CONST={widgetFrameClassName:"wepin-sdk-widget-iframe"},t}(l),S=function(){function e(){}return e.floatNew=function(t){var i=document.createElement("div");i.id="id-".concat(n.uuidv4()),i.className=e.CONST.imaageDivName,i.style.position="fixed",i.style.bottom="30px",i.style.right="-2px",i.style.padding="11px 13px",i.style.background="#6440DD",i.style.boxShadow="0px 4px 4px rgba(0, 0, 0, 0.25)",i.style.borderRadius="20px 0px 0px 20px",i.addEventListener("click",(function(){t.openWidget()}));var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"viewBox","0 0 80 21"),o.setAttributeNS(null,"width",80..toString()),o.setAttributeNS(null,"height",21..toString());var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttributeNS(null,"d","M16.4563 8.08913V7.51511C16.4563 7.46754 16.4436 7.38191 16.4341 7.3058V7.26457C16.4341 7.22017 16.4341 7.1726 16.4182 7.12503C16.4024 7.07746 16.4182 7.0838 16.4182 7.0616C16.4182 7.0394 16.4055 6.98865 16.4024 6.95377V6.93157L16.3643 6.70006L16.3326 6.54466V6.51929C16.3167 6.44952 16.3008 6.37657 16.285 6.30997C16.2691 6.24655 16.2533 6.17995 16.2374 6.11969L16.1866 5.92941C16.1644 5.85964 16.1454 5.78669 16.1232 5.72009C16.101 5.65349 16.0883 5.60909 16.0693 5.55201C16.0502 5.49492 16.0185 5.40295 15.9931 5.33318C15.9646 5.26341 15.9551 5.2317 15.936 5.18412C15.917 5.13655 15.8758 5.0319 15.8409 4.95578L15.7457 4.83844V4.81307C15.7108 4.73696 15.6759 4.66402 15.6378 4.5879C15.6188 4.54985 15.5998 4.51179 15.5807 4.47373L15.5681 4.44519C15.53 4.37542 15.4951 4.30882 15.457 4.23588L15.3809 4.0995L15.3555 4.0551C15.3238 4.00119 15.2921 3.94728 15.2603 3.89653C15.2286 3.84579 15.1969 3.79188 15.162 3.74114L15.1208 3.68405L15.0415 3.56354C14.997 3.49694 14.9463 3.43034 14.8955 3.35423L14.8733 3.34154C14.8511 3.30982 14.8289 3.27811 14.8035 3.2464C14.7496 3.17345 14.6925 3.10369 14.6322 3.03709L14.6164 3.01806C14.5973 2.99269 14.5783 2.96731 14.5561 2.94194C14.4958 2.869 14.4324 2.79923 14.3689 2.73263L14.3531 2.7136L14.2896 2.64383C14.2294 2.5804 14.1691 2.5138 14.0993 2.43452L14.0771 2.41232C14.0549 2.38695 14.0327 2.36475 14.0073 2.34255C13.9502 2.28546 13.8931 2.23155 13.8265 2.17129L13.8043 2.15226L13.7091 2.06346L13.5378 1.92075L13.5219 1.90807L13.3887 1.79706L13.2491 1.68289L13.2333 1.66704H13.2174L13.062 1.55287L12.9985 1.50847C12.9668 1.48627 12.9351 1.46407 12.9033 1.44504L12.8875 1.43552C11.1618 0.258933 9.04904 -0.213609 6.98707 0.109875C4.92192 0.43653 3.06297 1.53701 1.78455 3.19248L1.73696 3.25591V3.2686C1.65448 3.3796 1.572 3.49377 1.49587 3.61111L1.43877 3.69356C1.42608 3.71259 1.41339 3.73162 1.40387 3.75065C1.3785 3.78554 1.35629 3.82359 1.33408 3.85848L1.30236 3.90922C1.26747 3.96314 1.23574 4.01705 1.20402 4.07096L1.13106 4.19782L1.09934 4.25807L1.01686 4.40713C0.981962 4.47056 0.953411 4.53716 0.918516 4.60376L0.902655 4.63864C0.883621 4.67353 0.86776 4.71159 0.851899 4.7433C0.807487 4.84161 0.763075 4.93993 0.721836 5.04141L0.705974 5.07947C-0.179089 7.17577 0.00173061 9.48772 0.851899 11.5587C1.34043 12.7638 1.86385 13.9626 2.36824 15.1614L3.6435 18.2186L3.7006 18.3518C3.89728 18.837 4.23354 19.2525 4.66497 19.5474C5.09639 19.8424 5.60713 20.0041 6.13055 20.0104H6.19083C6.70156 20.0136 7.20595 19.8709 7.63738 19.595C8.06881 19.3223 8.41459 18.929 8.62713 18.4628L9.69936 16.1699L9.88969 16.135H9.95948L10.1815 16.0842H10.2228L10.3338 16.0494L10.5686 15.9828L10.6098 15.9701L10.7208 15.9384L10.8223 15.9035H10.8509C12.4053 15.3961 13.7694 14.4319 14.7686 13.138C15.7679 11.8441 16.3548 10.2806 16.4531 8.6473V8.09865L16.4626 8.08279L16.4563 8.08913ZM13.6171 8.23819V8.47921C13.5505 9.54481 13.1635 10.566 12.51 11.4096C11.8565 12.2532 10.9651 12.8811 9.94997 13.2141L9.7406 13.2744L9.60102 13.3156L9.48681 13.3505L9.36944 13.379H9.32503L9.11566 13.4139L9.03318 13.4266L8.88726 13.4456C8.80795 13.4456 8.72547 13.4615 8.64616 13.4678H8.4241C8.22742 13.4742 8.02757 13.4678 7.83089 13.452L7.44705 14.2702L6.57784 16.1223L6.18131 16.9564L5.73085 15.9067L4.2716 12.4308C3.82431 11.3589 3.22793 10.2647 2.99952 9.11667C2.81236 8.12085 2.92339 7.09331 3.31358 6.16092L3.32627 6.13238C3.35482 6.06895 3.3802 6.00235 3.41192 5.93575L3.4595 5.85012C3.47854 5.81206 3.49757 5.76766 3.51978 5.72644C3.54198 5.68521 3.5515 5.66618 3.56736 5.63764L3.60226 5.57421C3.61494 5.55201 3.62763 5.52664 3.64032 5.50444C3.65936 5.46955 3.67839 5.43784 3.7006 5.40295L3.73232 5.35221L3.77673 5.28244L3.78942 5.26024C3.78942 5.26024 3.8148 5.22852 3.82431 5.2095C3.87824 5.13021 3.93534 5.05093 3.98927 4.97798L4.02734 4.92724C4.85847 3.84262 6.07345 3.11954 7.42484 2.90389C8.77305 2.68823 10.1562 2.99269 11.2855 3.76017H11.2982L11.3489 3.79505L11.3902 3.82359L11.5012 3.90605L11.5266 3.92508L11.6059 3.98851C11.6344 4.01071 11.663 4.0329 11.6884 4.0551L11.7169 4.07731L11.8184 4.16293C11.8343 4.17879 11.8533 4.19465 11.8692 4.20734L11.9041 4.24222L12.0151 4.35005L12.0786 4.41348C12.1198 4.4547 12.161 4.49593 12.2023 4.5435L12.253 4.60059C12.2943 4.64499 12.3355 4.69256 12.3768 4.7433L12.4275 4.80039C12.4656 4.84796 12.5036 4.89553 12.5385 4.9431L12.5988 5.02555C12.6305 5.06678 12.6623 5.11118 12.6908 5.15558L12.7289 5.21584L12.7701 5.27927L12.8272 5.37124C12.8462 5.40295 12.8653 5.4315 12.8811 5.46321L12.9129 5.51395L12.9541 5.58689C12.9827 5.63447 13.0049 5.68204 13.0271 5.72327L13.0429 5.75498C13.0556 5.77718 13.0651 5.79621 13.0778 5.81841C13.0873 5.84061 13.1222 5.91672 13.1444 5.96429L13.1857 6.05626C13.2079 6.10383 13.2237 6.15457 13.246 6.20532L13.284 6.30046L13.3348 6.44317C13.3475 6.48123 13.3602 6.51612 13.3697 6.551C13.3792 6.58589 13.3982 6.64297 13.4109 6.68737C13.4236 6.73177 13.4331 6.76983 13.4458 6.81106C13.4553 6.85546 13.468 6.89351 13.4807 6.93791C13.4902 6.98231 13.5029 7.03306 13.5093 7.08063V7.10283C13.5093 7.13771 13.5251 7.16625 13.5315 7.20114C13.5378 7.23602 13.5473 7.3058 13.5568 7.35337C13.5568 7.37874 13.5632 7.40411 13.5695 7.42948V7.60391C13.5695 7.64514 13.5727 7.68636 13.5822 7.72759V8.22551L13.6235 8.24453L13.6171 8.23819Z"),r.setAttributeNS(null,"fill","white"),o.appendChild(r);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttributeNS(null,"d","M7.92922 6.13239C7.52634 6.20216 7.14884 6.38927 6.85382 6.67152C6.55563 6.95378 6.34943 7.31849 6.25743 7.71809C6.16544 8.11769 6.19716 8.53631 6.34308 8.92005C6.48901 9.30379 6.74596 9.63361 7.08222 9.87147C7.41848 10.1093 7.81502 10.2394 8.22424 10.252C8.63346 10.2616 9.03951 10.1506 9.38529 9.93173C9.73107 9.7129 10.0071 9.39576 10.172 9.02154C10.3401 8.64731 10.3909 8.23185 10.3211 7.82591C10.2259 7.28678 9.9214 6.80472 9.47094 6.48758C9.02365 6.17044 8.4685 6.04359 7.92605 6.13239H7.92922Z"),s.setAttributeNS(null,"fill","white"),o.appendChild(s);var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttributeNS(null,"d","M66.6506 4.52612H63.7531V15.7179H66.6506V4.52612Z"),a.setAttributeNS(null,"fill","white"),o.appendChild(a);var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttributeNS(null,"d","M65.2018 0.00317266C64.869 0.00317266 64.5425 0.0982582 64.2667 0.278924C63.9877 0.462759 63.7721 0.722662 63.6422 1.03011C63.5122 1.33756 63.4773 1.67353 63.5407 2C63.6041 2.32646 63.7626 2.62757 63.9972 2.86212C64.2318 3.09667 64.5298 3.25832 64.8563 3.32488C65.1828 3.39144 65.522 3.35974 65.8295 3.23296C66.137 3.10618 66.4001 2.89065 66.584 2.61489C66.7679 2.33914 66.8693 2.01268 66.8693 1.67987C66.8693 1.23613 66.6918 0.811412 66.3811 0.497625C66.0704 0.183837 65.6457 0.00316957 65.2018 0V0.00317266Z"),u.setAttributeNS(null,"fill","white"),o.appendChild(u);var p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M56.462 4.14258C55.0228 4.15526 53.6406 4.70042 52.5755 5.66714C51.5135 6.63703 50.8415 7.96191 50.6956 9.39455C50.6703 9.61959 50.6576 9.84146 50.6576 10.0665V19.9999H53.555V15.1283C54.43 15.6703 55.4317 15.9682 56.462 15.9904C59.6669 15.9904 62.2632 13.3375 62.2632 10.0665C62.2632 6.79551 59.6701 4.14258 56.462 4.14258ZM56.462 13.1822C54.9721 13.1822 53.7548 12.0031 53.555 10.4754C53.517 10.2028 53.517 9.92704 53.555 9.65446C53.7452 8.1299 54.9721 6.94764 56.462 6.94764C58.0819 6.94764 59.3943 8.34225 59.3943 10.0728C59.3943 11.8034 58.0819 13.1854 56.462 13.1854V13.1822Z"),p.setAttributeNS(null,"fill","white"),o.appendChild(p);var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttributeNS(null,"d","M79.1787 9.50233C79.1787 9.39139 79.1787 9.28046 79.166 9.16953V9.0681C79.1026 8.03799 78.7381 7.05225 78.1168 6.22817C77.4954 5.40408 76.6458 4.78601 75.6726 4.4437L75.5839 4.41517C75.4761 4.37714 75.3746 4.34544 75.2542 4.31374C75.1813 4.29473 75.1052 4.27888 75.0323 4.26303L74.9372 4.24401C74.8547 4.22817 74.7755 4.21549 74.6931 4.20281C74.5346 4.17746 74.3729 4.15843 74.2112 4.14893H73.6755C73.2539 4.17428 72.8354 4.25035 72.4328 4.37714L72.3694 4.39932L72.1855 4.45955C72.0778 4.49758 71.9763 4.53879 71.8654 4.58316L71.8178 4.60534C70.9714 4.97935 70.236 5.56889 69.6939 6.32008C69.1486 7.0681 68.8126 7.94924 68.7207 8.87159V8.90645C68.7207 8.98886 68.7048 9.07444 68.6985 9.15685C68.6985 9.29314 68.6858 9.42309 68.6858 9.57206V15.7179H71.5801V9.38822C71.5801 8.79234 71.8083 8.21548 72.2172 7.78125C72.6262 7.34702 73.1841 7.08395 73.7801 7.04591C74.3761 7.00788 74.9625 7.19805 75.4254 7.5784C75.885 7.95875 76.183 8.50075 76.2591 9.09345C76.2686 9.20439 76.2749 9.32483 76.2781 9.44528V15.7179H79.1756V9.53086C79.1756 9.53086 79.1787 9.51501 79.1787 9.50233Z"),c.setAttributeNS(null,"fill","white"),o.appendChild(c);var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttributeNS(null,"d","M34.2842 4.52608L34.1478 5.07758C34.132 5.12513 34.1193 5.17267 34.1098 5.22338C34.0749 5.35967 34.0432 5.49914 34.0115 5.6386L32.4962 11.7495C32.2616 11.16 32.081 10.5768 31.9098 10.0475L31.5103 8.77013C31.2187 7.83194 30.9175 6.85888 30.6005 5.90801C30.6005 5.88899 30.5847 5.87314 30.5783 5.8573C30.4991 5.61958 30.3691 5.39771 30.1979 5.21071C29.9095 4.9096 29.5132 4.73527 29.0947 4.72259H28.9014C28.8253 4.72259 28.746 4.72893 28.67 4.73844C28.4702 4.75112 28.2769 4.80183 28.0962 4.89058C27.9187 4.97933 27.757 5.10294 27.627 5.25508C27.5921 5.29311 27.5573 5.33115 27.5256 5.37235C27.3924 5.534 27.2878 5.72101 27.2181 5.92069C27.2054 5.95556 27.1927 5.99042 27.1832 6.02845L27.142 6.16158C27.0849 6.31689 27.0342 6.47536 26.9898 6.61482L26.4636 8.29787L25.3446 11.8383L25.3192 11.7464L24.9515 10.2471C24.5362 8.56094 24.1051 6.81451 23.6708 5.09977V5.06808L23.5408 4.53876H20.4626L22.5327 11.5562C22.8148 12.5229 23.1001 13.4991 23.3886 14.4722V14.5007C23.3886 14.5387 23.4108 14.5768 23.4235 14.6148C23.4615 14.7258 23.5123 14.8367 23.5693 14.9413C23.6898 15.1568 23.8515 15.347 24.0448 15.5023C24.3935 15.778 24.8247 15.9207 25.2685 15.9048H25.5031C25.5791 15.8985 25.6552 15.8858 25.7281 15.87C26.0166 15.8161 26.2892 15.6956 26.5207 15.5118L26.6158 15.4294C26.8694 15.2107 27.0627 14.9318 27.1737 14.6148L27.2054 14.5197L27.5002 13.5974C27.6714 13.0681 27.8426 12.5419 28.0138 12.0126C28.2927 11.1378 28.5749 10.263 28.8633 9.39137C28.8633 9.3565 28.8855 9.3248 28.8982 9.28994L30.5783 14.5356L30.6037 14.6116C30.7242 14.9698 30.9524 15.2868 31.2567 15.515C31.4691 15.6639 31.7069 15.7749 31.9573 15.8351H31.989L32.1253 15.8636C32.2395 15.8826 32.3568 15.8922 32.4709 15.8922H32.5279C32.9654 15.9017 33.3934 15.7622 33.7389 15.4928C33.9862 15.2836 34.1795 15.0174 34.3063 14.7194C34.3666 14.5831 34.4141 14.4437 34.4553 14.3042C35.0101 12.4183 35.5617 10.5324 36.1069 8.64335L37.2545 4.70357L37.3147 4.49438L34.2715 4.52291L34.2842 4.52608Z"),l.setAttributeNS(null,"fill","white"),o.appendChild(l);var d=document.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttributeNS(null,"d","M43.4361 13.1822C42.8211 13.1727 42.2252 12.9698 41.7338 12.6022C41.2393 12.2377 40.8747 11.7242 40.6877 11.141H49.1454C49.1803 10.7194 49.193 10.2979 49.1803 9.87316C49.0535 7.86683 48.2198 6.19963 46.6601 5.13783C45.7122 4.49124 44.59 4.14575 43.4425 4.14575C40.2375 4.14575 37.6412 6.79868 37.6412 10.0697C37.6412 13.3407 40.2375 15.9904 43.4425 15.9904C44.6281 15.9841 45.7788 15.6133 46.7489 14.9318C47.7157 14.2503 48.4543 13.29 48.8601 12.1774H45.5981C45.3318 12.4912 45.0021 12.7416 44.6312 12.9159C44.2603 13.0903 43.8546 13.1822 43.4456 13.1822H43.4361ZM43.4361 6.95082C44.0511 6.9635 44.6471 7.16635 45.1385 7.53085C45.633 7.89852 45.9975 8.40882 46.1877 8.99519H40.6845C40.8715 8.41199 41.2393 7.89852 41.7306 7.53402C42.2252 7.16635 42.818 6.9635 43.433 6.95399L43.4361 6.95082Z"),d.setAttributeNS(null,"fill","white"),o.appendChild(d),i.appendChild(o),document.body.appendChild(i),i},e.CONST={imaageDivName:"wepin-sdk-float-image-wrapper",imageClassName:"wepin-sdk-float-image"},e}(),O=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{u(n.next(e))}catch(e){r(e)}}function a(e){try{u(n.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},N=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},I=new(function(){function e(){this.wepinAppId=void 0,this.wepinAppKey=void 0,this.wepinAppStage=void 0,this.popupWindow=void 0,this.appInfo=void 0,this.accountInfo=void 0,this.floatImage=void 0,this.api=void 0,this._modeByAppKey=void 0}return Object.defineProperty(e.prototype,"setAccountInfo",{set:function(e){this.accountInfo=e},enumerable:!1,configurable:!0}),e.prototype.setModeByAppKey=function(){if(void 0===this.wepinAppKey)throw new Error("Wepin.setModeByAppKey: wepin widget has to be initialized");if("ak_live_"!==this.wepinAppKey.slice(0,8))if("ak_test_"!==this.wepinAppKey.slice(0,8)){if("ak_dev_"!==this.wepinAppKey.slice(0,7))throw new Error("Wepin.setModeByAppKey: Invalid appKey");this._modeByAppKey="development"}else this._modeByAppKey="test";else this._modeByAppKey="production"},Object.defineProperty(e.prototype,"modeByAppKey",{get:function(){if(void 0===this._modeByAppKey)throw new Error("Wepin.modeByAppKey: wepin widget has to be initialized");return this._modeByAppKey},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t,i){var n;return O(this,void 0,void 0,(function(){var o,r;return N(this,(function(s){switch(s.label){case 0:if(p.debug("init"),p.debug("init WepinAppKey",this.wepinAppKey),this.isInitialized())throw new Error("Wepin.init: Already initialized");this.setModeByAppKey(),this.api=new A(this.modeByAppKey),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.api.app.initApp(t)];case 2:if(200!==(o=s.sent()).status||!o.data.project||!o.data.stage)throw new Error("Wepin.init: Initialize failed");switch(this.wepinAppId=e,p.debug("Initialized WepinAppId",this.wepinAppId),this.wepinAppKey=t,p.debug("Initialized WepinAppKey",this.wepinAppKey),r=null!==(n=window.navigator.language.slice(0,2))&&void 0!==n?n:"en",this.wepinAppAttributes=Object.assign({type:"hide",defaultLanguage:r,defaultCurrency:"usd"},i),p.debug("Initialized WepinAppAttributes",this.wepinAppAttributes),this.wepinAppStage=o.data.stage,p.debug("Initialized WepinAppStage",this.wepinAppStage),this.appInfo=o.data.project,p.debug("Initialized AppInfo",this.appInfo),this.wepinAppAttributes.type){case"hide":default:break;case"show":this.openWidget();break;case"floating":this.floatImage=S.floatNew(this)}return[2,!0];case 3:throw s.sent(),new Error("Wepin.init: initialize failed");case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"initializedData",{get:function(){if(!this.isInitialized())throw new Error("Wepin.initializedData: wepin widget has to be initialized");return{appKey:this.wepinAppKey,domain:window.location.origin,platform:1,stage:this.wepinAppStage,attributes:this.wepinAppAttributes}},enumerable:!1,configurable:!0}),e.prototype.isInitialized=function(){return p.debug("isInitialized WepinAppId ",this.wepinAppId),p.debug("isInitialized WepinAppKey",this.wepinAppKey),p.debug("isInitialized WepinAppAttributes",this.wepinAppAttributes),p.debug("isInitialized WepinAppStage",this.wepinAppStage),void 0!==this.wepinAppId&&void 0!==this.wepinAppKey&&void 0!==this.wepinAppAttributes&&void 0!==this.wepinAppStage},e.prototype.openWindow=function(e,t){return O(this,void 0,void 0,(function(){var i,o;return N(this,(function(r){switch(r.label){case 0:return i=n.getUrls(this.modeByAppKey).wepinWebview,t&&(i+=t),n.isMobile()?[4,E.openNew(i,e,this)]:[3,2];case 1:return o=r.sent(),[3,4];case 2:return[4,h.openNew(i,e,this)];case 3:o=r.sent(),r.label=4;case 4:return[2,o]}}))}))},e.prototype.openWidget=function(){var e;return O(this,void 0,void 0,(function(){var t;return N(this,(function(i){switch(i.label){case 0:if(p.debug("openWidget window",window),!this.isInitialized())throw new Error("Wepin.openWidget: wepin widget has to be initialized");if(this.popupWindow||(null===(e=this.popupWindow)||void 0===e?void 0:e.closed))throw new Error("Wepin.openWidget: wepin widget is already opened");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.openWindow()];case 2:return t=i.sent().widget,this.popupWindow=t,p.debug("openWidget this.popupWindow",this.popupWindow),[3,4];case 3:throw i.sent(),new Error("Wepin.openWidget: Can't open wepin sdk widget");case 4:return[2]}}))}))},e.prototype.closeWidget=function(){if(p.debug("closeWidget this.popupWindow",this.popupWindow),!this.isInitialized())throw new Error("Wepin.closeWidget: wepin sdk widget has to be initialized");if(!this.popupWindow)throw new Error("Wepin.closeWidget: wepin sdk widget is not exist");this.popupWindow.close(),this.popupWindow=void 0},e.prototype.getAccounts=function(e){return O(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:if(p.debug("getAccounts"),!this.isInitialized())throw new Error("Wepin.getAccount: wepin sdk widget have to be initialized");return p.debug("getAccount this.accountInfo",this.accountInfo),this.accountInfo?[3,2]:[4,this.openWidget()];case 1:return t.sent(),[2];case 2:return void 0!==e&&e.length>0?[2,this.accountInfo.accounts.filter((function(t){return e.includes(t.network)}))]:[2,this.accountInfo.accounts]}}))}))},e.prototype.signMessage=function(e){return O(this,void 0,void 0,(function(){var t,i=this;return N(this,(function(n){if(p.debug("signMessage"),!this.isInitialized())throw new Error("Wepin.signMessage: wepin sdk widget have to be initialized");return t={command:"sign_message",parameter:{appKey:this.wepinAppKey,message:e}},[2,this.openWindow(t,"/sign").then((function(e){return i.popupWindow=e.widget,p.debug("signMessage res.data ",e.data),e.data}))]}))}))},e.prototype.sendTransaction=function(e){return O(this,void 0,void 0,(function(){var t,i=this;return N(this,(function(n){if(p.debug("sendTransaction"),!this.isInitialized())throw new Error("Wepin.sendTransaction: wepin sdk widget have to be initialized");return t={command:"send_transaction",parameter:{appKey:this.wepinAppKey,txData:e}},[2,this.openWindow(t,"/tx").then((function(e){return i.popupWindow=e.widget,p.debug("sendTransaction res.data ",e.data),e.data}))]}))}))},e}());"undefined"!=typeof window&&(window.Wepin=I)})()})();